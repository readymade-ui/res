(()=>{var u=function(e,i){var t=this;this.uagent=navigator.userAgent.toLowerCase(),this.state=void 0,this.input=void 0,this.orient=void 0,this.device=void 0,this.os=void 0,this.browser=void 0,this.version=void 0,this.width=0,this.grid={},this.viewports={},this.gridsettings={};for(var a=0,n=0;n<e.length;n++)t.viewports[e[n].state]=[a+1,e[n].breakpoint],e[n].cols!==void 0&&e[n].margin!==void 0&&e[n].gutter!==void 0&&(t.gridsettings[e[n].state]=[e[n].cols,e[n].margin,e[n].gutter]),a=e[n].breakpoint;this.initCallback=i,this.init()};u.prototype={onInit:function(e){setTimeout(()=>this.initCallback(e),1)},setState:function(){var e=this;e.device==="desktop"?e.width=window.innerWidth:e.device!=="desktop"&&(e.orient==="portrait"?e.width=screen.width:e.orient==="landscape"&&(e.width=screen.height));for(var i in e.viewports)if(e.viewports.hasOwnProperty(i)&&e.width>=e.viewports[i][0]&&e.width<=e.viewports[i][1]&&e.state!=i)return e.state=i,e.state},inputCheck:function(){var e=this;e.os==="ios"||e.os==="android"||e.os==="winphone"?e.input="touch":e.input="mouse"},browserCheck:function(){var e=this,i,t=e.uagent.match(/(edge|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return e.uagent.match(/(edg(?=\/))\/?\s*(\d+)/i)?(t=e.uagent.match(/(edg(?=\/))\/?\s*(\d+)/i),e.browser="edge",e.version=t[2],"Edge "+(t[2]||"")):/trident/i.test(t[1])?(i=/\brv[ :]+(\d+)/g.exec(e.uagent)||[],e.browser="msie",e.version=i[1],"IE "+(i[1]||"")):t[1]==="Chrome"&&(i=e.uagent.match(/\bOPR\/(\d+)/),i!=null)?(e.browser="opera",e.version=i[1],"Opera "+i[1]):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],(i=e.uagent.match(/version\/(\d+)/i))!=null&&t.splice(1,1,i[1]),e.browser=t[0],e.version=t[1],t.join(" "))},osCheck:function(){var e=this;navigator.appVersion.indexOf("Win")!=-1?(e.os="windows",e.device="desktop"):navigator.appVersion.indexOf("Mac")!=-1&&navigator.userAgent.match(/(iPhone|iPod|iPad)/)==null?(e.os="osx",e.device="desktop"):navigator.userAgent.indexOf("Android")>-1?(e.os="android",navigator.userAgent.indexOf("Mobile")>-1?e.device="mobile":e.device="tablet"):navigator.userAgent.indexOf("windows phone")>0?(e.os="windows",e.device="mobile"):navigator.appVersion.indexOf("X11")!=-1?(e.os="unix",e.device="desktop"):navigator.appVersion.indexOf("Linux")!=-1?(e.os="linux",e.device="desktop"):navigator.userAgent.match(/(iPhone|iPod|iPad)/)!==null&&navigator.userAgent.match(/(iPhone|iPod|iPad)/).length>0?(e.os="ios",e.uagent.indexOf("iphone")>0&&(e.device="iphone"),e.uagent.indexOf("ipod")>0&&(e.device="ipod"),e.uagent.indexOf("ipad")>0&&(e.device="ipad")):e.os="unknown"},gridHelper:function(e){var i=this,t,a=[],n,h=[],d,s,o;o=i.gridsettings[e][0],d=i.gridsettings[e][1],s=i.gridsettings[e][2],t=[],n=[],width=window.innerWidth-d*2+s,columnWidth=width/o-s;for(var r=0;r<o;r++)r===0?n=0:n=columnWidth*r+s*(r-1),t=width/o*r+d,a.push(t),h.push(n),r===o-1&&(n=columnWidth*(r+1)+s*r,h.push(n));return{cols:o,col:a,colSpan:h,width,margin:d,gutter:s}},resize:function(){var e=this;return window.innerHeight>window.innerWidth?e.orient="portrait":e.orient="landscape",e.setState(),e.gridsettings.hasOwnProperty(e.state)&&(e.grid=e.gridHelper(e.state)),e.stateChange=new CustomEvent("stateChange",{bubbles:!1,cancelable:!0}),console.log(e),e.onInit(e),window.dispatchEvent(e.stateChange),e},init:function(){var e=this;e.osCheck(),e.inputCheck(),e.browserCheck();var i=e.setState();e.gridsettings.hasOwnProperty(e.state)&&(e.grid=e.gridHelper(e.state)),window.onorientationchange=function(){e.resize()},window.onresize=function(){e.resize()},e.resize()}};})();
